<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Para mi princesita</title>

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:ital@1&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box}

body{
  width:100vw;
  height:100vh;
  overflow:hidden;
  background:#000;
  font-family:'Playfair Display', serif;
}

/* OVERLAY AUDIO */
#musicOverlay{
  position:fixed;
  inset:0;
  background:#000;
  z-index:5000;
  display:flex;
  align-items:center;
  justify-content:center;
  font-family:'Great Vibes', cursive;
  font-size:2.2rem;
  color:#fff;
  cursor:pointer;
  transition:opacity 1.5s ease;
}

/* INTRO */
#intro{
  position:absolute;
  inset:0;
  background:url("https://images.unsplash.com/photo-1500530855697-b586d89ba3ee") center/cover no-repeat;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
}

.intro-text{
  font-family:'Great Vibes', cursive;
  font-size:2.6rem;
  color:#fff;
  text-shadow:0 0 15px #ff9acb;
}

.underline{
  width:200px;
  height:2px;
  background:#ff9acb;
  margin-top:10px;
}

/* CARTA */
#card{
  position:absolute;
  inset:0;
  display:none;
  background:linear-gradient(#0d0d0d,#000);
  align-items:center;
  justify-content:center;
  flex-direction:column;
}

.envelope{
  width:250px;
  height:165px;
  background:#fff;
  border-radius:18px;
  position:relative;
  cursor:pointer;
}

.flap{
  position:absolute;
  top:0;
  width:100%;
  height:80px;
  background:#ffd6e6;
  clip-path:polygon(0 0,50% 70%,100% 0);
  transform-origin:top;
  transition:transform .8s ease;
}

.seal{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:30px;
}

/* MENSAJE */
#message{
  position:absolute;
  inset:0;
  display:none;
  background:url("foto.jpg") center/cover no-repeat;
}

.overlay{
  position:absolute;
  inset:0;
  background:rgba(0,0,0,.45);
}

.box{
  position:relative;
  max-width:420px;
  width:90%;
  margin:auto;
  text-align:center;
  padding-top:80px;
}

.title{
  font-family:'Great Vibes', cursive;
  font-size:2.4rem;
  color:#fff;
  margin-bottom:20px;
}

.text{
  color:#fff;
  font-size:1rem;
  line-height:1.7;
}
</style>
</head>

<body>

<div id="musicOverlay">Toca la pantalla</div>

<audio id="music" loop>
  <source src="soso.mp3" type="audio/mpeg">
</audio>

<!-- INTRO -->
<section id="intro">
  <div class="intro-text">Para mi princesita bonita</div>
  <div class="underline"></div>
</section>

<!-- CARTA -->
<section id="card">
  <div class="envelope" id="envelope">
    <div class="flap" id="flap"></div>
    <div class="seal">游눙</div>
  </div>
</section>

<!-- MENSAJE -->
<section id="message">
  <div class="overlay"></div>
  <div class="box">
    <div class="title" id="title">Feliz cumplea침os, mi princesita</div>
    <div class="text" id="text"></div>
  </div>
</section>

<script>
const music=document.getElementById("music");
const overlay=document.getElementById("musicOverlay");
const intro=document.getElementById("intro");
const card=document.getElementById("card");
const message=document.getElementById("message");
const envelope=document.getElementById("envelope");
const flap=document.getElementById("flap");
const text=document.getElementById("text");

/* MENSAJE COMPLETO */
const parts=[
"Feliz cumplea침os, mi princesita hemosha 游봌游꾹游눘.",
"Hoy no es un d칤a cualquiera, hoy celebro la vida de la pershonita m치s especial que lleg칩 a mi mundo para hacerlo m치s bonito, m치s c치lido y m치s lleno de amor.",
"Desde que llegaste, todo tiene m치s color, m치s sentido y m치s sonrisas.",
"Mi pechochita linda, nunca olvides lo incre칤ble que eres, lo valiosa que eres y lo profundamente amada que est치s, no solo hoy, sino todos los d칤as de tu vida.",
"Gracias por existir, por tu sonrisa tan hermosa que ilumina mis d칤as, por tu ternura que me abraza el coraz칩n incluso a la distancia, y por cada momento, palabra y detalle que me regalas.",
"Gracias por ser t칰, por tu forma tan bonita de querer, por tu dulzura y por ese coraz칩n tan grande que tienes.",
"Quiero que shepas que siempre voy a estar para ti, en los d칤as felices donde todo brilla, pero tambi칠n en esos d칤as donde el mundo pesa un poquito m치s.",
"Aqu칤 tienes a alguien que te escucha, que te cuida, que te apoya y que jam치s te va a soltar la mano.",
"Este corazh칩ncito es tuyo, late por ti y siempre va a querer verte sonre칤r y sentirte en paz.",
"Te amo m치s de lo que las palabras pueden decir, m치s de lo que cualquier mensaje puede explicar.",
"Te amo en cada pensamiento, en cada deseo bonito y en cada sue침o donde est치s t칰.",
"Mi princesita preciosa, ti amoooo demasiado, mi bonita, y deseo con todo mi coraz칩n que este cumplea침os est칠 lleno de amor, abrazos, sonrisas y momentos hermosos 游륋린쥟릠"
];

let index=0;
let interval=null;

/* AUDIO + FLUJO */
overlay.addEventListener("pointerdown",()=>{
  music.play().catch(()=>{});
  overlay.style.opacity=0;
  setTimeout(()=>overlay.remove(),1500);

  setTimeout(()=>{
    intro.style.display="none";
    card.style.display="flex";
  },2000);
},{once:true});

/* ABRIR CARTA */
envelope.addEventListener("pointerdown",()=>{
  flap.style.transform="rotateX(180deg)";

  setTimeout(()=>{
    card.style.display="none";
    message.style.display="block";
    startMessage();
  },800);
},{once:true});

/* MENSAJE SIN TRABARSE */
function startMessage(){
  text.innerText=parts[0];
  index=1;

  interval=setInterval(()=>{
    if(index>=parts.length){
      clearInterval(interval);
      return;
    }
    text.innerText=parts[index++];
  },6000);
}
</script>

</body>
</html>
